{
  "hash": "18ac4d090ee65d22c62e78a7818ac7f7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"In Class Exercise 5b\"\nsubtitle: \" \"\nauthor: \"Guan Jhen Lin\"\ndate: \"May 11 2024\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\nWe will use jsonlite package to read the files for JSON files. Vast challenge 2024's dataset will be used for this in class exercise.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, jsonlite)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Specify the path to your JSON file\nfile_path <- \"data/mc3.json\"\n\n# Read the file as lines of text\njson_data <- readLines(file_path, warn = FALSE)\njson_string <- paste(json_data, collapse = \"\")\n# Replace 'NaN' with 'null' in the JSON string\njson_string <- gsub(\"NaN\", \"null\", json_string)\n# Parse the JSON string\njson_list <- fromJSON(json_string)\n\n# Now json_list is a usable R list that you can work with\n# Check the structure of the list\nstr(json_list)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nList of 5\n $ directed  : logi TRUE\n $ multigraph: logi TRUE\n $ graph     : Named list()\n $ nodes     :'data.frame':\t60520 obs. of  15 variables:\n  ..$ type             : chr [1:60520] \"Entity.Organization.Company\" \"Entity.Organization.Company\" \"Entity.Organization.Company\" \"Entity.Organization.Company\" ...\n  ..$ country          : chr [1:60520] \"Uziland\" \"Mawalara\" \"Uzifrica\" \"Islavaragon\" ...\n  ..$ ProductServices  : chr [1:60520] \"Unknown\" \"Furniture and home accessories\" \"Food products\" \"Unknown\" ...\n  ..$ PointOfContact   : chr [1:60520] \"Rebecca Lewis\" \"Michael Lopez\" \"Steven Robertson\" \"Anthony Wyatt\" ...\n  ..$ HeadOfOrg        : chr [1:60520] \"Émilie-Susan Benoit\" \"Honoré Lemoine\" \"Jules Labbé\" \"Dr. Víctor Hurtado\" ...\n  ..$ founding_date    : chr [1:60520] \"1954-04-24T00:00:00\" \"2009-06-12T00:00:00\" \"2029-12-15T00:00:00\" \"1972-02-16T00:00:00\" ...\n  ..$ revenue          : num [1:60520] 5995 71767 0 0 4747 ...\n  ..$ TradeDescription : chr [1:60520] \"Unknown\" \"Abbott-Gomez is a leading manufacturer and supplier of high-quality furniture and home accessories, catering to\"| __truncated__ \"Abbott-Harrison is a leading manufacturer of high-quality food products, including baked goods, snacks, and bev\"| __truncated__ \"Unknown\" ...\n  ..$ _last_edited_by  : chr [1:60520] \"Pelagia Alethea Mordoch\" \"Pelagia Alethea Mordoch\" \"Pelagia Alethea Mordoch\" \"Pelagia Alethea Mordoch\" ...\n  ..$ _last_edited_date: chr [1:60520] \"2035-01-01T00:00:00\" \"2035-01-01T00:00:00\" \"2035-01-01T00:00:00\" \"2035-01-01T00:00:00\" ...\n  ..$ _date_added      : chr [1:60520] \"2035-01-01T00:00:00\" \"2035-01-01T00:00:00\" \"2035-01-01T00:00:00\" \"2035-01-01T00:00:00\" ...\n  ..$ _raw_source      : chr [1:60520] \"Existing Corporate Structure Data\" \"Existing Corporate Structure Data\" \"Existing Corporate Structure Data\" \"Existing Corporate Structure Data\" ...\n  ..$ _algorithm       : chr [1:60520] \"Automatic Import\" \"Automatic Import\" \"Automatic Import\" \"Automatic Import\" ...\n  ..$ id               : chr [1:60520] \"Abbott, Mcbride and Edwards\" \"Abbott-Gomez\" \"Abbott-Harrison\" \"Abbott-Ibarra\" ...\n  ..$ dob              : chr [1:60520] NA NA NA NA ...\n $ links     :'data.frame':\t75817 obs. of  11 variables:\n  ..$ start_date       : chr [1:75817] \"2016-10-29T00:00:00\" \"2035-06-03T00:00:00\" \"2028-11-20T00:00:00\" \"2024-09-04T00:00:00\" ...\n  ..$ type             : chr [1:75817] \"Event.Owns.Shareholdership\" \"Event.Owns.Shareholdership\" \"Event.Owns.Shareholdership\" \"Event.Owns.Shareholdership\" ...\n  ..$ _last_edited_by  : chr [1:75817] \"Pelagia Alethea Mordoch\" \"Niklaus Oberon\" \"Pelagia Alethea Mordoch\" \"Pelagia Alethea Mordoch\" ...\n  ..$ _last_edited_date: chr [1:75817] \"2035-01-01T00:00:00\" \"2035-07-15T00:00:00\" \"2035-01-01T00:00:00\" \"2035-01-01T00:00:00\" ...\n  ..$ _date_added      : chr [1:75817] \"2035-01-01T00:00:00\" \"2035-07-15T00:00:00\" \"2035-01-01T00:00:00\" \"2035-01-01T00:00:00\" ...\n  ..$ _raw_source      : chr [1:75817] \"Existing Corporate Structure Data\" \"Oceanus Corporations Monthly - Jun '35\" \"Existing Corporate Structure Data\" \"Existing Corporate Structure Data\" ...\n  ..$ _algorithm       : chr [1:75817] \"Automatic Import\" \"Manual Entry\" \"Automatic Import\" \"Automatic Import\" ...\n  ..$ source           : chr [1:75817] \"Avery Inc\" \"Berger-Hayes\" \"Bowers Group\" \"Bowman-Howe\" ...\n  ..$ target           : chr [1:75817] \"Allen, Nichols and Thompson\" \"Jensen, Morris and Downs\" \"Barnett Inc\" \"Bennett Ltd\" ...\n  ..$ key              : int [1:75817] 0 0 0 0 0 0 0 0 0 0 ...\n  ..$ end_date         : chr [1:75817] NA NA NA NA ...\n```\n\n\n:::\n\n```{.r .cell-code}\n# Summary of the list for a quick overview\nsummary(json_list)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           Length Class      Mode   \ndirected    1     -none-     logical\nmultigraph  1     -none-     logical\ngraph       0     -none-     list   \nnodes      15     data.frame list   \nlinks      11     data.frame list   \n```\n\n\n:::\n\n```{.r .cell-code}\n# Example: Replacing null values in a specific field\njson_list$PointOfContact <- ifelse(is.null(json_list$PointOfContact), \"No Contact\", json_list$PointOfContact)\nmc3_data <- fromJSON(json_string)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmc1_data <-fromJSON(\"data/mc1.json\")\nmc2_data <-fromJSON(\"data/mc2.json\")\n\n\n\n#graph data model\n#you may apply this to MC2, MC3 as well\n#refer to MC1 Data Description for the data meanings. \n#MC3 is bit corrupted please artificially fill in something before run \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(mc1_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           Length Class      Mode   \ndirected    1     -none-     logical\nmultigraph  1     -none-     logical\ngraph       0     -none-     list   \nnodes       4     data.frame list   \nlinks      10     data.frame list   \n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(mc2_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           Length Class      Mode   \ndirected    1     -none-     logical\nmultigraph  1     -none-     logical\ngraph       0     -none-     list   \nnodes      20     data.frame list   \nlinks      17     data.frame list   \n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(mc3_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           Length Class      Mode   \ndirected    1     -none-     logical\nmultigraph  1     -none-     logical\ngraph       0     -none-     list   \nnodes      15     data.frame list   \nlinks      11     data.frame list   \n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}