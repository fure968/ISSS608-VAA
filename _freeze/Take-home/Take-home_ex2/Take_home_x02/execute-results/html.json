{
  "hash": "e3b678cd9fb419482fe9ff1d57f406e3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take Home Exercise 1 - Part 2\"\nsubtitle: \" \"\nauthor: \"Guan Jhen Lin\"\ndate: \"May 03 2024\"\ndate-modified: \"last-modified\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n#Overview For this take-home exercise, I will select one data visualization from the [submissions](https://isss608-ay2023-24apr.netlify.app/take-home_ex/th_ex01#peer-learning) of our classmates for Take-Home Exercise 1. My task is to critique the selected visualization with respect to clarity and aesthetics. Following the critique, I will prepare a sketch for an alternative design, utilizing the principles and best practices of data visualization as covered in Lessons 1 and 2. Finally, I will recreate the original design using tools from ggplot2, its extensions, and other packages in the tidyverse suite.\n\nThe graph I have chosen is from [here](https://isss608-zjho008.netlify.app/take-home_ex/take-home_ex01/take-home_ex01). It is a geom_history made by our fellow classmate.\n\n![](images/zijun.png){width=\"435\"}\n\n# First Glance\n\n::: panel:tabset\n## Positive Points\n\n-   It is clear for audience to see the comparison between different property types.\n\n-   Colour is consistent and may not be too confusing, straightforward to interpret.\n\n## Improvements\n\n-   If we want to visualise the relationship between total and unit price per square foot according to the property types, we can try to visualise with a different graph such as violin plot.\n\n-   We can add data labels to the bar chart to enhance the overall readability, audience will be able to read the chart based on the labels quickly.\n:::\n\n# Data Preparation\n\n<details>\n\n<summary>Click to show code</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(tidyverse, scales, patchwork, ggtext, DT)\n```\n:::\n\n\n</details>\n\n::: panel-tabset\n## Import Data Sets\n\n<details>\n\n<summary>Click to show code</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nds1 <- read_csv(\"data/ds1.csv\")\nds2 <- read_csv(\"data/ds2.csv\")\nds3 <- read_csv(\"data/ds3.csv\")\nds4 <- read_csv(\"data/ds4.csv\")\nds5 <- read_csv(\"data/ds5.csv\")\n```\n:::\n\n\n</details>\n\n## Converting Data\n\n<details>\n\n<summary>Click to show code</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprepare_dataset <- function(ds) {\n  colSums(is.na(ds))\n  ds <- na.omit(ds)\n  \n  ds$`Type of Sale` <- tolower(as.character(ds$`Type of Sale`))\n  ds$`Type of Sale` <- ifelse(ds$`Type of Sale` %in% c(\"new sale\", \"resale\"), ds$`Type of Sale`, \"other\")\n  ds$`Type of Sale` <- as.factor(ds$`Type of Sale`)\n  \n  ds$`Property Type` <- as.factor(ds$`Property Type`)\n  \n  ds$`Transacted Price ($)` <- as.numeric(gsub(\"[^0-9.]\", \"\", ds$`Transacted Price ($)`, perl = TRUE))\n  ds$`Area (SQFT)` <- as.numeric(gsub(\"[^0-9.]\", \"\", ds$`Area (SQFT)`, perl = TRUE))\n  ds$`Unit Price ($ PSF)` <- as.numeric(gsub(\"[^0-9.]\", \"\", ds$`Unit Price ($ PSF)`, perl = TRUE))\n  \n  return(ds)\n}\n\n# Apply the function to each dataset\nds1 <- prepare_dataset(ds1)\nds2 <- prepare_dataset(ds2)\nds3 <- prepare_dataset(ds3)\nds4 <- prepare_dataset(ds4)\nds5 <- prepare_dataset(ds5)\n\n# Combine the datasets\ncombined_ds <- rbind(ds1, ds2, ds3, ds4, ds5)\n```\n:::\n\n\n</details>\n\n## Converting Dates\n\n<details>\n\n<summary>Click to show code</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert Sale Date to Date format\nds1$`Sale Date` <- dmy(ds1$`Sale Date`)\nds2$`Sale Date` <- dmy(ds2$`Sale Date`)\nds3$`Sale Date` <- dmy(ds3$`Sale Date`)\nds4$`Sale Date` <- dmy(ds4$`Sale Date`)\nds5$`Sale Date` <- dmy(ds5$`Sale Date`)\n```\n:::\n\n\n</details>\n:::\n\n# Orginal Graph\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Assuming `private_property_data` is your combined dataset\nggplot(data = combined_ds, aes(x = `Unit Price ($ PSF)`, fill = `Property Type`)) +\n  geom_histogram(bins = 20, color = \"grey30\")\n```\n\n::: {.cell-output-display}\n![](Take_home_x02_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n# First Try\n\n-   Numbers get clamped together so it is better if the data can appear once hover over.\n\n    <details>\n\n<summary>Click to show code</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(viridis)  # For vibrant color scales\n\n# Assuming `combined_ds` is your dataset\nthreshold_percentage <- 5  # Set a threshold for minimum percentage to display text\n\n# Create the ggplot object\np <- ggplot(data = combined_ds, aes(x = `Unit Price ($ PSF)`, fill = `Property Type`, text = sprintf(\"Percentage: %.2f%%\", ..count../sum(..count..)*100))) +\n  geom_histogram(bins = 30, color = \"grey30\", aes(y = ..count../sum(..count..)*100), alpha = 0.8) +\n  scale_fill_viridis(discrete = TRUE, option = \"D\") +\n  labs(title = \"Distribution of Unit Prices by Property Type\",\n       subtitle = \"Hover over bars to see percentages\",\n       x = \"Unit Price ($ per Square Foot)\",\n       y = \"Percentage of Total\",\n       fill = \"Property Type\") +\n  theme_minimal(base_size = 14) +\n  theme(\n    plot.background = element_rect(fill = \"white\"),\n    legend.position = \"right\",\n    plot.title = element_text(size = 15, face = \"bold\", hjust = 0.5),\n    plot.subtitle = element_text(size = 10, face = \"italic\"),\n    axis.title = element_text(size = 14),\n    axis.text = element_text(color = \"grey20\"),\n    axis.ticks = element_line(color = \"grey80\"),\n    panel.grid.major = element_blank(),\n    panel.grid.minor = element_blank(),\n    legend.background = element_rect(fill = \"grey90\", color = \"grey50\", size = 0.5, linetype = \"solid\"),\n    legend.key = element_blank()\n  )\n\n# Convert ggplot to plotly for interactivity\nplotly_p <- ggplotly(p, tooltip = \"text\")  # Enabling hover with tooltip argument\n```\n:::\n\n\n</details>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplotly_p\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-fill-item\" id=\"htmlwidget-bd95a07a388c2e8f0ef1\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-bd95a07a388c2e8f0ef1\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[193.72413793103453,193.72413793103442,193.72413793103448,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103533,193.7241379310326,193.72413793103442,193.72413793103624,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442],\"base\":[0.022388059701492536,0.033582089552238806,0.1044776119402985,0.75746268656716409,3.9477611940298507,7.6902985074626864,12.873134328358208,9.156716417910447,5.9738805970149249,5.2835820895522394,4.7425373134328357,3.205223880597015,2.4701492537313436,1.1305970149253732,0.94776119402985082,0.67164179104477606,0.45149253731343286,0.13805970149253732,0.052238805970149252,0.044776119402985072,0.014925373134328358,0.014925373134328358,0.037313432835820899,0.014925373134328358,0.0037313432835820895,0.007462686567164179,0.007462686567164179,0,0,0.007462686567164179],\"x\":[193.72413793103448,387.44827586206895,581.17241379310349,774.89655172413791,968.62068965517233,1162.344827586207,1356.0689655172414,1549.7931034482758,1743.5172413793102,1937.2413793103447,2130.9655172413791,2324.6896551724139,2518.4137931034484,2712.1379310344828,2905.8620689655172,3099.5862068965516,3293.3103448275861,3487.0344827586205,3680.7586206896549,3874.4827586206893,4068.2068965517242,4261.9310344827591,4455.6551724137926,4649.3793103448279,4843.1034482758623,5036.8275862068967,5230.5517241379312,5424.2758620689656,5618,5811.7241379310344],\"y\":[0.0037313432835820899,0,0.0074626865671641729,0.085820895522388141,0.97388059701492491,1.3917910447761193,2.3992537313432845,4.1305970149253728,4.5485074626865662,4.1343283582089549,5.1716417910447756,5.1716417910447765,4.8283582089552235,3.8246268656716418,1.3917910447761197,0.77611940298507465,0.67910447761194015,0.31343283582089554,0.21268656716417911,0.063432835820895539,0.037313432835820899,0.011194029850746268,0.0074626865671641798,0.0074626865671641781,0,0.003731343283582089,0,0.011194029850746268,0.007462686567164179,0],\"text\":[\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.01%\",\"Percentage: 0.09%\",\"Percentage: 0.97%\",\"Percentage: 1.39%\",\"Percentage: 2.40%\",\"Percentage: 4.13%\",\"Percentage: 4.55%\",\"Percentage: 4.13%\",\"Percentage: 5.17%\",\"Percentage: 5.17%\",\"Percentage: 4.83%\",\"Percentage: 3.82%\",\"Percentage: 1.39%\",\"Percentage: 0.78%\",\"Percentage: 0.68%\",\"Percentage: 0.31%\",\"Percentage: 0.21%\",\"Percentage: 0.06%\",\"Percentage: 0.04%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(68,1,84,0.8)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(77,77,77,1)\"}},\"name\":\"Apartment\",\"legendgroup\":\"Apartment\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[193.72413793103453,193.72413793103442,193.72413793103448,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103533,193.7241379310326,193.72413793103442,193.72413793103624,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442],\"base\":[0.022388059701492536,0.033582089552238806,0.10074626865671642,0.55597014925373134,1.7238805970149251,3.33955223880597,7.2425373134328366,3.440298507462686,0.74626865671641784,0.79850746268656725,0.68656716417910457,0.57462686567164178,0.28731343283582089,0.17164179104477612,0.089552238805970158,0.067164179104477612,0.082089552238805971,0.055970149253731338,0.026119402985074629,0.014925373134328358,0.0037313432835820895,0,0.01865671641791045,0.007462686567164179,0,0,0,0,0,0.0037313432835820895],\"x\":[193.72413793103448,387.44827586206895,581.17241379310349,774.89655172413791,968.62068965517233,1162.344827586207,1356.0689655172414,1549.7931034482758,1743.5172413793102,1937.2413793103447,2130.9655172413791,2324.6896551724139,2518.4137931034484,2712.1379310344828,2905.8620689655172,3099.5862068965516,3293.3103448275861,3487.0344827586205,3680.7586206896549,3874.4827586206893,4068.2068965517242,4261.9310344827591,4455.6551724137926,4649.3793103448279,4843.1034482758623,5036.8275862068967,5230.5517241379312,5424.2758620689656,5618,5811.7241379310344],\"y\":[0,0,0.0037313432835820864,0.20149253731343275,2.2238805970149258,4.3507462686567164,5.6305970149253719,5.7164179104477615,5.2276119402985071,4.4850746268656723,4.0559701492537314,2.6305970149253732,2.182835820895523,0.95895522388059717,0.85820895522388063,0.60447761194029848,0.36940298507462688,0.082089552238805985,0.026119402985074622,0.029850746268656712,0.011194029850746268,0.014925373134328358,0.01865671641791045,0.007462686567164179,0.0037313432835820895,0.007462686567164179,0.007462686567164179,0,0,0.0037313432835820895],\"text\":[\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.20%\",\"Percentage: 2.22%\",\"Percentage: 4.35%\",\"Percentage: 5.63%\",\"Percentage: 5.72%\",\"Percentage: 5.23%\",\"Percentage: 4.49%\",\"Percentage: 4.06%\",\"Percentage: 2.63%\",\"Percentage: 2.18%\",\"Percentage: 0.96%\",\"Percentage: 0.86%\",\"Percentage: 0.60%\",\"Percentage: 0.37%\",\"Percentage: 0.08%\",\"Percentage: 0.03%\",\"Percentage: 0.03%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.02%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(65,68,135,0.8)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(77,77,77,1)\"}},\"name\":\"Condominium\",\"legendgroup\":\"Condominium\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[193.72413793103453,193.72413793103442,193.72413793103448,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103533,193.7241379310326,193.72413793103442,193.72413793103624,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442],\"base\":[0.022388059701492536,0.014925373134328358,0.074626865671641784,0.52985074626865669,1.6492537313432833,3.2462686567164178,7.1417910447761201,3.3582089552238803,0.63805970149253721,0.74253731343283591,0.60074626865671643,0.5074626865671642,0.26119402985074625,0.13805970149253732,0.078358208955223885,0.055970149253731338,0.070895522388059698,0.044776119402985072,0.022388059701492539,0.014925373134328358,0.0037313432835820895,0,0.01865671641791045,0.007462686567164179,0,0,0,0,0,0.0037313432835820895],\"x\":[193.72413793103448,387.44827586206895,581.17241379310349,774.89655172413791,968.62068965517233,1162.344827586207,1356.0689655172414,1549.7931034482758,1743.5172413793102,1937.2413793103447,2130.9655172413791,2324.6896551724139,2518.4137931034484,2712.1379310344828,2905.8620689655172,3099.5862068965516,3293.3103448275861,3487.0344827586205,3680.7586206896549,3874.4827586206893,4068.2068965517242,4261.9310344827591,4455.6551724137926,4649.3793103448279,4843.1034482758623,5036.8275862068967,5230.5517241379312,5424.2758620689656,5618,5811.7241379310344],\"y\":[0,0.018656716417910446,0.026119402985074633,0.026119402985074647,0.074626865671641784,0.093283582089552119,0.10074626865671643,0.082089552238805652,0.10820895522388063,0.055970149253731338,0.085820895522388141,0.067164179104477584,0.026119402985074647,0.033582089552238792,0.011194029850746273,0.011194029850746273,0.011194029850746273,0.011194029850746266,0.0037313432835820899,0,0,0,0,0,0,0,0,0,0,0],\"text\":[\"Percentage: 0.00%\",\"Percentage: 0.02%\",\"Percentage: 0.03%\",\"Percentage: 0.03%\",\"Percentage: 0.07%\",\"Percentage: 0.09%\",\"Percentage: 0.10%\",\"Percentage: 0.08%\",\"Percentage: 0.11%\",\"Percentage: 0.06%\",\"Percentage: 0.09%\",\"Percentage: 0.07%\",\"Percentage: 0.03%\",\"Percentage: 0.03%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(42,120,142,0.8)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(77,77,77,1)\"}},\"name\":\"Detached House\",\"legendgroup\":\"Detached House\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[193.72413793103453,193.72413793103442,193.72413793103448,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103533,193.7241379310326,193.72413793103442,193.72413793103624,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442],\"base\":[0.022388059701492536,0.014925373134328358,0.070895522388059698,0.29850746268656714,0.51865671641791045,0.54850746268656714,0.70522388059701502,0.67910447761194026,0.63059701492537301,0.74253731343283591,0.60074626865671643,0.5074626865671642,0.26119402985074625,0.13805970149253732,0.078358208955223885,0.055970149253731338,0.070895522388059698,0.044776119402985072,0.022388059701492539,0.014925373134328358,0.0037313432835820895,0,0.01865671641791045,0.007462686567164179,0,0,0,0,0,0.0037313432835820895],\"x\":[193.72413793103448,387.44827586206895,581.17241379310349,774.89655172413791,968.62068965517233,1162.344827586207,1356.0689655172414,1549.7931034482758,1743.5172413793102,1937.2413793103447,2130.9655172413791,2324.6896551724139,2518.4137931034484,2712.1379310344828,2905.8620689655172,3099.5862068965516,3293.3103448275861,3487.0344827586205,3680.7586206896549,3874.4827586206893,4068.2068965517242,4261.9310344827591,4455.6551724137926,4649.3793103448279,4843.1034482758623,5036.8275862068967,5230.5517241379312,5424.2758620689656,5618,5811.7241379310344],\"y\":[0,0,0.0037313432835820864,0.23134328358208955,1.1305970149253728,2.6977611940298507,6.4365671641791051,2.6791044776119399,0.0074626865671642006,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"text\":[\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.23%\",\"Percentage: 1.13%\",\"Percentage: 2.70%\",\"Percentage: 6.44%\",\"Percentage: 2.68%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(34,168,132,0.8)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(77,77,77,1)\"}},\"name\":\"Executive Condominium\",\"legendgroup\":\"Executive Condominium\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[193.72413793103453,193.72413793103442,193.72413793103448,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103533,193.7241379310326,193.72413793103442,193.72413793103624,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442],\"base\":[0.011194029850746268,0.0037313432835820895,0.059701492537313432,0.22014925373134325,0.23880597014925373,0.32835820895522388,0.44776119402985076,0.43656716417910446,0.44029850746268651,0.54477611940298509,0.44402985074626872,0.42910447761194032,0.19402985074626866,0.097014925373134331,0.041044776119402986,0.029850746268656716,0.044776119402985072,0.033582089552238806,0.01865671641791045,0.007462686567164179,0.0037313432835820895,0,0.01865671641791045,0.007462686567164179,0,0,0,0,0,0.0037313432835820895],\"x\":[193.72413793103448,387.44827586206895,581.17241379310349,774.89655172413791,968.62068965517233,1162.344827586207,1356.0689655172414,1549.7931034482758,1743.5172413793102,1937.2413793103447,2130.9655172413791,2324.6896551724139,2518.4137931034484,2712.1379310344828,2905.8620689655172,3099.5862068965516,3293.3103448275861,3487.0344827586205,3680.7586206896549,3874.4827586206893,4068.2068965517242,4261.9310344827591,4455.6551724137926,4649.3793103448279,4843.1034482758623,5036.8275862068967,5230.5517241379312,5424.2758620689656,5618,5811.7241379310344],\"y\":[0.011194029850746268,0.011194029850746268,0.011194029850746266,0.078358208955223885,0.27985074626865669,0.22014925373134325,0.25746268656716426,0.2425373134328358,0.19029850746268651,0.19776119402985082,0.15671641791044771,0.078358208955223885,0.067164179104477584,0.041044776119402993,0.037313432835820899,0.026119402985074622,0.026119402985074626,0.011194029850746266,0.0037313432835820899,0.007462686567164179,0,0,0,0,0,0,0,0,0,0],\"text\":[\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.01%\",\"Percentage: 0.08%\",\"Percentage: 0.28%\",\"Percentage: 0.22%\",\"Percentage: 0.26%\",\"Percentage: 0.24%\",\"Percentage: 0.19%\",\"Percentage: 0.20%\",\"Percentage: 0.16%\",\"Percentage: 0.08%\",\"Percentage: 0.07%\",\"Percentage: 0.04%\",\"Percentage: 0.04%\",\"Percentage: 0.03%\",\"Percentage: 0.03%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(122,209,81,0.8)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(77,77,77,1)\"}},\"name\":\"Semi-Detached House\",\"legendgroup\":\"Semi-Detached House\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[193.72413793103453,193.72413793103442,193.72413793103448,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103533,193.7241379310326,193.72413793103442,193.72413793103624,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442,193.72413793103442],\"base\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"x\":[193.72413793103448,387.44827586206895,581.17241379310349,774.89655172413791,968.62068965517233,1162.344827586207,1356.0689655172414,1549.7931034482758,1743.5172413793102,1937.2413793103447,2130.9655172413791,2324.6896551724139,2518.4137931034484,2712.1379310344828,2905.8620689655172,3099.5862068965516,3293.3103448275861,3487.0344827586205,3680.7586206896549,3874.4827586206893,4068.2068965517242,4261.9310344827591,4455.6551724137926,4649.3793103448279,4843.1034482758623,5036.8275862068967,5230.5517241379312,5424.2758620689656,5618,5811.7241379310344],\"y\":[0.011194029850746268,0.0037313432835820895,0.059701492537313432,0.22014925373134325,0.23880597014925373,0.32835820895522388,0.44776119402985076,0.43656716417910446,0.44029850746268651,0.54477611940298509,0.44402985074626872,0.42910447761194032,0.19402985074626866,0.097014925373134331,0.041044776119402986,0.029850746268656716,0.044776119402985072,0.033582089552238806,0.01865671641791045,0.007462686567164179,0.0037313432835820895,0,0.01865671641791045,0.007462686567164179,0,0,0,0,0,0.0037313432835820895],\"text\":[\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.06%\",\"Percentage: 0.22%\",\"Percentage: 0.24%\",\"Percentage: 0.33%\",\"Percentage: 0.45%\",\"Percentage: 0.44%\",\"Percentage: 0.44%\",\"Percentage: 0.54%\",\"Percentage: 0.44%\",\"Percentage: 0.43%\",\"Percentage: 0.19%\",\"Percentage: 0.10%\",\"Percentage: 0.04%\",\"Percentage: 0.03%\",\"Percentage: 0.04%\",\"Percentage: 0.03%\",\"Percentage: 0.02%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.02%\",\"Percentage: 0.01%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\",\"Percentage: 0.00%\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(253,231,37,0.8)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(77,77,77,1)\"}},\"name\":\"Terrace House\",\"legendgroup\":\"Terrace House\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":48.943129929431294,\"r\":9.2984640929846396,\"b\":51.141552511415526,\"l\":47.422166874221674},\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":18.596928185969279},\"title\":{\"text\":\"<b> Distribution of Unit Prices by Property Type <\\/b>\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":19.9252801992528},\"x\":0.5,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-193.72413793103453,6199.1724137931033],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"2000\",\"4000\",\"6000\"],\"tickvals\":[0,2000,4000,6000],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"2000\",\"4000\",\"6000\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":4.6492320464923198,\"tickwidth\":0.8453149175440583,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(51,51,51,1)\",\"family\":\"\",\"size\":14.877542548775427},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"Unit Price ($ per Square Foot)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":18.596928185969279}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.76361940298507469,16.036007462686566],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"5\",\"10\",\"15\"],\"tickvals\":[0,5,10,15],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"5\",\"10\",\"15\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":4.6492320464923198,\"tickwidth\":0.8453149175440583,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(51,51,51,1)\",\"family\":\"\",\"size\":14.87754254877543},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"Percentage of Total\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":18.596928185969279}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(229,229,229,1)\",\"bordercolor\":\"rgba(127,127,127,1)\",\"borderwidth\":1.8897637795275593,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.877542548775427},\"title\":{\"text\":\"Property Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":18.596928185969279}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"27182ac36b2\":{\"x\":{},\"fill\":{},\"text\":{},\"y\":{},\"type\":\"bar\"}},\"cur_data\":\"27182ac36b2\",\"visdat\":{\"27182ac36b2\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n</details>\n\n# Violin Chart\n\nIn this scenario, a violin plot can be a good choice for visualizing the distribution and density of 'Unit Price (\\$ per square foot)' across different 'Property Types'. The violin plot combines the both box plots and density plots, offering a deeper understanding of the data's distribution. By visually representing the data's density estimates, it reveals peaks, valleys, and the spread of the data, which are crucial for identifying patterns and outliers. This could provide insightful details such as whether certain property types are more variable in price or if they tend to have a particular pricing structure.\n\n## My sketch using Paint\n\n![](images/Sketch.png){width=\"402\"}\n\n<details>\n\n<summary>Click to show code</summary>\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Assuming `combined_ds` is your dataset\nviolin <- ggplot(combined_ds, aes(x = `Property Type`, y = `Unit Price ($ PSF)`, fill = `Property Type`)) +\n  geom_violin(trim = FALSE) +  # Draw the full range of the distribution\n  geom_boxplot(width = 0.1, fill = \"white\", outlier.shape = NA) +  # Optional: add a narrow boxplot inside each violin for more detail\n  scale_fill_viridis_d() +  # Vibrant color scale\n  labs(title = \"Distribution of Unit Prices by Property Type\",\n       subtitle = \"Violin plots with embedded boxplots\",\n       x = \"Property Type\",\n       y = \"Unit Price ($ per Square Foot)\") +\n  theme_minimal() +\n  theme(\n    plot.background = element_rect(fill = \"white\"),\n    legend.position = \"none\",  # Hide legend if not necessary\n    plot.title = element_text(size = 15, face = \"bold\", hjust = 0.5),\n    plot.subtitle = element_text(size = 10, face = \"italic\"),\n    axis.title.x = element_text(size = 10),  # Adjust x-axis title size\n    axis.title.y = element_text(size = 10),  # Adjust y-axis title size\n    axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1, size = 10, color = \"grey20\"),  # Adjust x-axis labels\n    axis.ticks = element_line(color = \"grey80\"),\n    panel.grid.major = element_blank(),\n    panel.grid.minor = element_blank()\n  )\n\n# If you prefer to flip the axes to make the plot horizontal:\n# p + coord_flip()\n```\n:::\n\n\n</details>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nviolin\n```\n\n::: {.cell-output-display}\n![](Take_home_x02_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n# Takeaways\n\n-   Sometimes in order to get the graph to be visually pleasing, clarity of the graph could have been messed up. It is important to balance clarity and aesthetics.\n-   Sometimes what we think versus what we can produce is quite different, it is important for me to get my hands \"dirty\" in order to understand the code and the way the chart interacts.\n-   Giving others critics is a great way to reflect on yourself, did you make similar mistakes when it comes to creating visual analytics?\n",
    "supporting": [
      "Take_home_x02_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.10.4/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}