{
  "hash": "b55fdd692cb0ead817c3d286c3717ee9",
  "result": {
    "markdown": "---\ntitle: \"Take Home Exercise 1\"\nsubtitle: \"Creating data visualisation beyond default\"\nauthor: \"Guan Jhen Lin\"\ndate: \"Apr 21, 2024\"\ndate-modified: \"Apr 13, 2024\"\nexecute: \n  eval: true\n  echo: true\n  warning: false\n  freeze: true\n---\n\n\n# The Task\n\nAs the graphical editor for a median company, you're tasked with creating **two to three data visualizations** showcasing Singapore's private residential market and its sub-markets for the **1st quarter of 2024**.\n\n# The Data\n\nTo complete this task, transaction data from REALIS will be utilised, data set containing of private residential property transactions spanning from January 1, 2024, to March 31, 2024 will be used.\n\n## Installing R packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(haven, tidyverse, reshape2,\n               ggridges, ggdist,\n               ggpubr)\n```\n:::\n\n\n## Import Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read_csv(\"data/RT2024Q1.csv\")\nsummary(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n Project Name       Transacted Price ($)  Area (SQFT)      Unit Price ($ PSF)\n Length:4902        Min.   :  555000     Min.   :  322.9   Min.   : 574      \n Class :character   1st Qu.: 1330000     1st Qu.:  764.2   1st Qu.:1415      \n Mode  :character   Median : 1688000     Median : 1011.8   Median :1736      \n                    Mean   : 2100902     Mean   : 1200.2   Mean   :1812      \n                    3rd Qu.: 2300000     3rd Qu.: 1298.9   3rd Qu.:2188      \n                    Max.   :39500000     Max.   :19553.9   Max.   :5397      \n  Sale Date           Address          Type of Sale       Type of Area      \n Length:4902        Length:4902        Length:4902        Length:4902       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n   Area (SQM)     Unit Price ($ PSM) Nett Price($)      Property Type     \n Min.   :  30.0   Min.   : 6183      Min.   :       0   Length:4902       \n 1st Qu.:  71.0   1st Qu.:15237      1st Qu.:       0   Class :character  \n Median :  94.0   Median :18688      Median :       0   Mode  :character  \n Mean   : 111.5   Mean   :19502      Mean   :    6256                     \n 3rd Qu.: 120.7   3rd Qu.:23548      3rd Qu.:       0                     \n Max.   :1816.6   Max.   :58099      Max.   :12203000                     \n Number of Units    Tenure          Completion Date   \n Min.   :1       Length:4902        Length:4902       \n 1st Qu.:1       Class :character   Class :character  \n Median :1       Mode  :character   Mode  :character  \n Mean   :1                                            \n 3rd Qu.:1                                            \n Max.   :2                                            \n Purchaser Address Indicator  Postal Code     Postal District Postal Sector  \n Length:4902                 Min.   : 18965   Min.   : 1.0    Min.   : 1.00  \n Class :character            1st Qu.:357920   1st Qu.:13.0    1st Qu.:35.00  \n Mode  :character            Median :544662   Median :19.0    Median :54.00  \n                             Mean   :521415   Mean   :17.8    Mean   :51.31  \n                             3rd Qu.:679627   3rd Qu.:23.0    3rd Qu.:67.00  \n                             Max.   :829503   Max.   :28.0    Max.   :82.00  \n Planning Region    Planning Area     \n Length:4902        Length:4902       \n Class :character   Class :character  \n Mode  :character   Mode  :character  \n                                      \n                                      \n                                      \n```\n:::\n\n```{.r .cell-code}\nstr(df) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\nspc_tbl_ [4,902 Ã— 21] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ Project Name               : chr [1:4902] \"THE LANDMARK\" \"POLLEN COLLECTION\" \"SKY EDEN@BEDOK\" \"TERRA HILL\" ...\n $ Transacted Price ($)       : num [1:4902] 2726888 3850000 2346000 2190000 1954000 ...\n $ Area (SQFT)                : num [1:4902] 1076 1808 1087 807 797 ...\n $ Unit Price ($ PSF)         : num [1:4902] 2533 2129 2158 2713 2453 ...\n $ Sale Date                  : chr [1:4902] \"01-Jan-24\" \"01-Jan-24\" \"01-Jan-24\" \"01-Jan-24\" ...\n $ Address                    : chr [1:4902] \"173 CHIN SWEE ROAD #22-11\" \"34 POLLEN PLACE\" \"1 BEDOK CENTRAL #09-10\" \"18A YEW SIANG ROAD #03-12\" ...\n $ Type of Sale               : chr [1:4902] \"New Sale\" \"New Sale\" \"New Sale\" \"New Sale\" ...\n $ Type of Area               : chr [1:4902] \"Strata\" \"Land\" \"Strata\" \"Strata\" ...\n $ Area (SQM)                 : num [1:4902] 100 168 101 75 74 ...\n $ Unit Price ($ PSM)         : num [1:4902] 27269 22917 23228 29200 26405 ...\n $ Nett Price($)              : num [1:4902] 0 0 0 0 0 0 0 0 0 0 ...\n $ Property Type              : chr [1:4902] \"Condominium\" \"Terrace House\" \"Apartment\" \"Apartment\" ...\n $ Number of Units            : num [1:4902] 1 1 1 1 1 1 1 1 1 1 ...\n $ Tenure                     : chr [1:4902] \"99 yrs from 28/08/2020\" \"99 yrs from 09/12/2019\" \"99 yrs from 05/01/2022\" \"Freehold\" ...\n $ Completion Date            : chr [1:4902] \"Uncompleted\" \"Uncompleted\" \"Uncompleted\" \"Uncompleted\" ...\n $ Purchaser Address Indicator: chr [1:4902] \"Private\" \"N.A\" \"HDB\" \"N.A\" ...\n $ Postal Code                : num [1:4902] 169878 807233 469657 118992 598444 ...\n $ Postal District            : num [1:4902] 3 28 16 5 21 21 28 19 20 18 ...\n $ Postal Sector              : num [1:4902] 16 80 46 11 59 58 79 53 57 51 ...\n $ Planning Region            : chr [1:4902] \"Central Region\" \"North East Region\" \"East Region\" \"Central Region\" ...\n $ Planning Area              : chr [1:4902] \"Outram\" \"Serangoon\" \"Bedok\" \"Queenstown\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   `Project Name` = col_character(),\n  ..   `Transacted Price ($)` = col_number(),\n  ..   `Area (SQFT)` = col_number(),\n  ..   `Unit Price ($ PSF)` = col_number(),\n  ..   `Sale Date` = col_character(),\n  ..   Address = col_character(),\n  ..   `Type of Sale` = col_character(),\n  ..   `Type of Area` = col_character(),\n  ..   `Area (SQM)` = col_number(),\n  ..   `Unit Price ($ PSM)` = col_number(),\n  ..   `Nett Price($)` = col_number(),\n  ..   `Property Type` = col_character(),\n  ..   `Number of Units` = col_double(),\n  ..   Tenure = col_character(),\n  ..   `Completion Date` = col_character(),\n  ..   `Purchaser Address Indicator` = col_character(),\n  ..   `Postal Code` = col_double(),\n  ..   `Postal District` = col_double(),\n  ..   `Postal Sector` = col_double(),\n  ..   `Planning Region` = col_character(),\n  ..   `Planning Area` = col_character()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n```\n:::\n:::\n\n\n## Data Types\n\nChanging data types: Sale Date: Convert from character to date Net Price: From character to date Number of units: convert from num to int Completion date: Convert from chr to date Postal Code: Change from num to chr Postal District: Change from num to chr Postal Sector: Change from num to chr\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert Sale Date from character to date (format: dd-mm-yyyy)\ndf$`Sale Date` <- as.Date(df$`Sale Date`, format = \"%d-%m-%Y\")\n\n# Convert Nett Price from character to numeric\ndf$`Nett Price($)` <- as.numeric(df$`Nett Price($)`)\n\n# Convert Number of units from numeric to integer\ndf$`Number of Units` <- as.integer(df$`Number of Units`)\n\n# Convert Postal Code from numeric to character\ndf$`Postal Code` <- as.character(df$`Postal Code`)\n\n# Convert Postal District from numeric to character\ndf$`Postal District` <- as.character(df$`Postal District`)\n\n# Convert Postal Sector from numeric to character\ndf$`Postal Sector` <- as.character(df$`Postal Sector`)\n\n# Purchase Address Indicator has 3levels\ndf$`Purchaser Address Indicator` <- factor(df$`Purchaser Address Indicator`, levels = c(\"HDB\", \"Private\", \"N/A\"))\n\n# Property Type has 6 levels\ndf$`Property Type` <- factor(df$`Property Type`, levels = c(\"Condominium\", \"Terrace House\", \"Apartment\", \"Executive Condominium\", \"Semi-Detached House\", \"Detached House\"))\n\n# Convert Type of Area to factor\ndf$`Type of Area` <- factor(df$`Type of Area`, levels = c(\"Land\", \"Strata\"))\n\n# Convert Type of Sale to factor\ndf$`Type of Sale` <- factor(df$`Type of Sale`, levels = c(\"New Sale\", \"Resale\", \"Sub Sale\"))\n\n# Convert Planning Region to factor\ndf$`Planning Region` <- factor(df$`Planning Region`, levels = c(\"Central Region\", \"East Region\", \"North East Region\", \"West Region\", \"North Region\"))\n```\n:::\n\n\n# Data Visualisations\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 3. Bar Plot of Property Type Counts\nggplot(df, aes(x = `Property Type`, fill = `Property Type`)) +\n  geom_bar() +\n  labs(title = \"Bar Plot of Property Type Counts\", x = \"Property Type\", y = \"Count\") +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](Take-home_ex01_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n### Barplot\n\nA bar plot can visualize the frequency of different types of sales (New Sale, Resale, Sub Sale), helping you understand the distribution of sale types within the dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbarplot(table(df$`Type of Sale`), main = \"Bar Plot of Type of Sale\", xlab = \"Type of Sale\", ylab = \"Frequency\", col = \"lightblue3\", border = \"black\")\n```\n\n::: {.cell-output-display}\n![](Take-home_ex01_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n# Create a data frame with planning region names and corresponding values\n\n\n::: {.cell}\n\n```{.r .cell-code}\nregion_data <- data.frame(\n  Planning_Region = c(\"Central Region\", \"East Region\", \"North East Region\", \"West Region\", \"North Region\"),\n  Value = c(1000, 1200, 800, 900, 1100)  # Replace with your actual data values\n)\n```\n:::\n\n\n# Create the heatmap\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load required libraries\nlibrary(ggplot2)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Example data (replace with your actual data)\nregion_data <- data.frame(\n  Planning_Region = c(\"Central Region\", \"East Region\", \"North East Region\", \"West Region\", \"North Region\"),\n  Average_Price = c(1200, 1100, 1000, 900, 950)  # Replace with actual average transacted prices\n)\n\n# Create the heatmap\nggplot(region_data, aes(x = 1, y = Planning_Region, fill = Average_Price)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient(low = \"lightblue\", high = \"darkblue\", name = \"Average Transacted Price ($)\") +\n  labs(title = \"Average Transacted Price of Private Residential Properties\\n across Singapore Planning Regions (1st Quarter 2024)\",\n       x = \"\", y = \"\") +\n  theme_minimal() +\n  theme(axis.text.y = element_text(size = 10, color = \"black\"),\n        axis.text.x = element_blank(),\n        axis.ticks.x = element_blank(),\n        legend.position = \"right\")\n```\n\n::: {.cell-output-display}\n![](Take-home_ex01_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Sample data (replace with your actual data)\nplanning_regions <- c(\"Central Region\", \"East Region\", \"North East Region\", \"West Region\", \"North Region\")\nproperty_types <- c(\"Condominium\", \"Terrace House\", \"Apartment\", \"Executive Condominium\", \"Semi-Detached House\", \"Detached House\")\n\n# Replace this data with your actual counts for each property type in each planning region\ndata <- data.frame(\n  Planning_Region = rep(planning_regions, each = length(property_types)),\n  Property_Type = rep(property_types, times = length(planning_regions)),\n  Count = sample(100:500, size = length(planning_regions) * length(property_types), replace = TRUE)  # Replace with actual counts\n)\n\n# Load necessary library\nlibrary(ggplot2)\n\n# Create horizontal bar chart\nggplot(data, aes(x = Count, y = Planning_Region, fill = Property_Type)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(x = \"Number of Properties\", y = \"Planning Region\", title = \"Property Type vs. Planning Region\") +\n  theme_minimal() +\n  theme(legend.position = \"right\") +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](Take-home_ex01_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::",
    "supporting": [
      "Take-home_ex01_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}